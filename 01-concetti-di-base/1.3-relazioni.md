# 1.3 Relazioni

## Relazione su un insieme

Una **relazione** su un insieme $A$ è un sottoinsieme della coppia di elementi:

```math
R \subseteq A \times A.
```

Scriviamo $(x,y)\in R$ per dire che $x$ e $y$ sono **relati** secondo $R$.

**Esempio.**  
Sia $A = \{1,2,3\}$ e definiamo  
$R = \{(1,1),(2,2),(3,3),(1,2)\}$.  
Allora $(1,2)\in R$ ma $(2,1)\notin R$.

---

## Proprietà delle relazioni

Sia $R\subseteq A\times A$.

- **Riflessiva**: $\forall x\in A\,(x,x)\in R$;
- **Simmetrica**: $\forall x,y\in A\,(x,y)\in R \Rightarrow (y,x)\in R$;
- **Antisimmetrica**: $\forall x,y\in A\,(x,y)\in R \land (y,x)\in R \Rightarrow x=y$;
- **Transitiva**: $\forall x,y,z\in A\,(x,y)\in R \land (y,z)\in R \Rightarrow (x,z)\in R$.

**Esempio.**  
Relazione “$\le$” su $A = \{1,2,3\}$:  
$R = \{(1,1),(1,2),(1,3),(2,2),(2,3),(3,3)\}$.  
È riflessiva, antisimmetrica e transitiva (ordine), ma non simmetrica.

### Esempi rapidi (una proprietà alla volta)

Sia $A=\{1,2,3\}$.

- **Riflessiva ma non simmetrica**: $R=\{(1,1),(2,2),(3,3),(1,2)\}$ (come nell’esempio iniziale).  
  Qui $(1,2)\in R$ ma $(2,1)\notin R$.
- **Simmetrica ma non transitiva**: $R=\{(1,2),(2,1),(2,3),(3,2)\}$.  
  È simmetrica, ma non transitiva perché $(1,2)\in R$ e $(2,3)\in R$, mentre $(1,3)\notin R$.
- **Non riflessiva**: $R=\{(1,2),(2,3)\}$.  
  Manca ad esempio $(1,1)$, quindi non è riflessiva.
- **Non antisimmetrica**: $R=\{(1,2),(2,1)\}$.  
  Abbiamo $(1,2)\in R$ e $(2,1)\in R$ ma $1\ne 2$, quindi non è antisimmetrica.

---

## Relazioni di equivalenza

Una relazione $R\subseteq A\times A$ è di **equivalenza** se è riflessiva, simmetrica e transitiva.

Quando $xRy$ scriviamo anche $x\sim y$.

**Classe di equivalenza** di un elemento $x$:

```math
[x] = \{y\in A : x\sim y\}.
```

Le classi di equivalenza **partitionano** $A$: ogni elemento appartiene esattamente a una classe.

### Insieme quoziente

Definiamo l’**insieme quoziente**:

```math
A/{\sim} = \{[x] : x\in A\}.
```

Ogni classe $[x]$ è un elemento di $A/{\sim}$; lo quoziente raccoglie tutte le classi.

**Esempio.**  
Relazione “$\equiv$ modulo 3” su $A = Z$:  

```math
a\sim b \iff a-b \equiv 0 \pmod 3.
```

Le classi sono $[0] = \{3k\}$, $[1] = \{3k+1\}$, $[2] = \{3k+2\}$.

### Esempio (equivalenza su un insieme finito)

Sia $A=\{1,2,3,4,5,6\}$ e definiamo:
```math
x\sim y \iff x-y \text{ è pari}.
```

Allora ci sono due classi:

- $[1]=\{1,3,5\}$ (dispari),
- $[2]=\{2,4,6\}$ (pari),

e infatti $A/{\sim}=\{\{1,3,5\},\{2,4,6\}\}$.

---

## Relazioni d’ordine

Una relazione $R$ su $A$ è un **ordine parziale** se è:

- riflessiva,
- antisimmetrica,
- transitiva.

Se inoltre per ogni $x,y\in A$ vale $xRy$ oppure $yRx$, allora $R$ è un **ordine totale**.

**Esempio** (ordine totale): la relazione $\le$ su $R$.

**Esempio** (ordine parziale non totale): relazione di inclusione tra sottoinsiemi di $A$:

```math
R = \{(X,Y) : X\subseteq Y,\ X,Y\subseteq A\}.
```

### Esempio (ordine parziale non totale: divisibilità)

Sia $A=N\setminus\{0\}$ e definiamo:
```math
xRy \iff x\mid y.
```

- È riflessiva: $x\mid x$.
- È antisimmetrica: se $x\mid y$ e $y\mid x$, allora $x=y$.
- È transitiva: se $x\mid y$ e $y\mid z$, allora $x\mid z$.

Non è totale: ad esempio $2\nmid 3$ e $3\nmid 2$.

---

## Rappresentazioni e operazioni

Una relazione può essere vista come **matrice** o come **grafico orientato**:

- $(x,y)\in R$ corrisponde a un **arco diretto** da $x$ a $y$.
- La **composizione** di due relazioni $R,S\subseteq A\times A$ è:

```math
S\circ R = \{(x,z) : \exists y\in A,\ (x,y)\in R,\ (y,z)\in S\}.
```

- La **relazione inversa**:
```math
R^{-1} = \{(y,x) : (x,y)\in R\}.
```

**Esempi.**

* Se $R = \le$ e $S = <$ su $A = \{1,2\}$, allora
  ```math
  S\circ R = \{(1,2)\},\qquad R^{-1} = \{(1,1),(2,1),(2,2)\}.
  ```

* Se $A=\{1,2,3\}$ e $R=\{(1,2),(2,3)\}$, allora
  ```math
  R\circ R=\{(1,3)\}.
  ```
  Infatti esiste $y=2$ con $(1,2)\in R$ e $(2,3)\in R$, quindi $(1,3)\in R\circ R$.

---

## Riepilogo

- Relazione su $A$: $R\subseteq A\times A$.
- Prototipi di proprietà: riflessiva, simmetrica, antisimmetrica, transitiva.
- Relazioni di equivalenza ↔ classi $[x]$ ↔ insieme quoziente $A/{\sim}$.
- Ordini: parziale (riflessiva+antisimmetrica+transitiva), totale (in più comparabilità).
- Operazioni: composizione $S\circ R$, inversa $R^{-1}$.
